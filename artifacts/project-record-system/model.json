{
  "entities": [
    {
      "name": "Project",
      "japanese": "プロジェクト",
      "type": "resource",
      "attributes": [
        {"japanese": "プロジェクトID", "english": "ProjectID", "type": "INT", "is_primary_key": true},
        {"japanese": "プロジェクト名", "english": "ProjectName", "type": "VARCHAR(200)", "is_primary_key": false},
        {"japanese": "顧客ID", "english": "CustomerID", "type": "INT", "is_primary_key": false},
        {"japanese": "受注規模", "english": "EstimatedEffort", "type": "DECIMAL(10,2)", "is_primary_key": false},
        {"japanese": "計画開始日", "english": "PlannedStartDate", "type": "DATE", "is_primary_key": false},
        {"japanese": "計画終了日", "english": "PlannedEndDate", "type": "DATE", "is_primary_key": false},
        {"japanese": "作成日時", "english": "CreatedAt", "type": "TIMESTAMP", "is_primary_key": false}
      ]
    },
    {
      "name": "Person",
      "japanese": "人",
      "type": "resource",
      "attributes": [
        {"japanese": "人ID", "english": "PersonID", "type": "INT", "is_primary_key": true},
        {"japanese": "氏名", "english": "Name", "type": "VARCHAR(100)", "is_primary_key": false},
        {"japanese": "メールアドレス", "english": "Email", "type": "VARCHAR(100)", "is_primary_key": false},
        {"japanese": "作成日時", "english": "CreatedAt", "type": "TIMESTAMP", "is_primary_key": false}
      ]
    },
    {
      "name": "Organization",
      "japanese": "組織",
      "type": "resource",
      "attributes": [
        {"japanese": "組織ID", "english": "OrganizationID", "type": "INT", "is_primary_key": true},
        {"japanese": "組織名", "english": "OrganizationName", "type": "VARCHAR(100)", "is_primary_key": false},
        {"japanese": "組織種別", "english": "OrganizationType", "type": "VARCHAR(50)", "is_primary_key": false},
        {"japanese": "親組織ID", "english": "ParentOrganizationID", "type": "INT", "is_primary_key": false},
        {"japanese": "作成日時", "english": "CreatedAt", "type": "TIMESTAMP", "is_primary_key": false}
      ]
    },
    {
      "name": "Customer",
      "japanese": "顧客",
      "type": "resource",
      "attributes": [
        {"japanese": "顧客ID", "english": "CustomerID", "type": "INT", "is_primary_key": true},
        {"japanese": "顧客名", "english": "CustomerName", "type": "VARCHAR(200)", "is_primary_key": false},
        {"japanese": "業界ID", "english": "IndustryID", "type": "INT", "is_primary_key": false},
        {"japanese": "作成日時", "english": "CreatedAt", "type": "TIMESTAMP", "is_primary_key": false}
      ]
    },
    {
      "name": "Industry",
      "japanese": "業界",
      "type": "resource",
      "attributes": [
        {"japanese": "業界ID", "english": "IndustryID", "type": "INT", "is_primary_key": true},
        {"japanese": "業界名", "english": "IndustryName", "type": "VARCHAR(100)", "is_primary_key": false},
        {"japanese": "作成日時", "english": "CreatedAt", "type": "TIMESTAMP", "is_primary_key": false}
      ]
    },
    {
      "name": "Role",
      "japanese": "役割",
      "type": "resource",
      "attributes": [
        {"japanese": "役割ID", "english": "RoleID", "type": "INT", "is_primary_key": true},
        {"japanese": "役割名", "english": "RoleName", "type": "VARCHAR(50)", "is_primary_key": false},
        {"japanese": "作成日時", "english": "CreatedAt", "type": "TIMESTAMP", "is_primary_key": false}
      ]
    },
    {
      "name": "SupportType",
      "japanese": "支援タイプ",
      "type": "resource",
      "attributes": [
        {"japanese": "支援タイプID", "english": "SupportTypeID", "type": "INT", "is_primary_key": true},
        {"japanese": "支援タイプ名", "english": "SupportTypeName", "type": "VARCHAR(100)", "is_primary_key": false},
        {"japanese": "説明", "english": "Description", "type": "TEXT", "is_primary_key": false},
        {"japanese": "作成日時", "english": "CreatedAt", "type": "TIMESTAMP", "is_primary_key": false}
      ]
    },
    {
      "name": "User",
      "japanese": "ユーザー",
      "type": "resource",
      "attributes": [
        {"japanese": "ユーザーID", "english": "UserID", "type": "INT", "is_primary_key": true},
        {"japanese": "人ID", "english": "PersonID", "type": "INT", "is_primary_key": false},
        {"japanese": "ユーザー名", "english": "Username", "type": "VARCHAR(50)", "is_primary_key": false},
        {"japanese": "作成日時", "english": "CreatedAt", "type": "TIMESTAMP", "is_primary_key": false}
      ]
    },
    {
      "name": "DevelopmentType",
      "japanese": "開発種別",
      "type": "resource",
      "attributes": [
        {"japanese": "開発種別ID", "english": "DevelopmentTypeID", "type": "INT", "is_primary_key": true},
        {"japanese": "開発種別名", "english": "DevelopmentTypeName", "type": "VARCHAR(100)", "is_primary_key": false},
        {"japanese": "説明", "english": "Description", "type": "TEXT", "is_primary_key": false},
        {"japanese": "作成日時", "english": "CreatedAt", "type": "TIMESTAMP", "is_primary_key": false}
      ]
    },
    {
      "name": "DevelopmentMethod",
      "japanese": "開発方式",
      "type": "resource",
      "attributes": [
        {"japanese": "開発方式ID", "english": "DevelopmentMethodID", "type": "INT", "is_primary_key": true},
        {"japanese": "開発方式名", "english": "DevelopmentMethodName", "type": "VARCHAR(100)", "is_primary_key": false},
        {"japanese": "説明", "english": "Description", "type": "TEXT", "is_primary_key": false},
        {"japanese": "作成日時", "english": "CreatedAt", "type": "TIMESTAMP", "is_primary_key": false}
      ]
    },
    {
      "name": "TargetPhase",
      "japanese": "対象工程",
      "type": "resource",
      "attributes": [
        {"japanese": "対象工程ID", "english": "TargetPhaseID", "type": "INT", "is_primary_key": true},
        {"japanese": "対象工程名", "english": "TargetPhaseName", "type": "VARCHAR(100)", "is_primary_key": false},
        {"japanese": "説明", "english": "Description", "type": "TEXT", "is_primary_key": false},
        {"japanese": "作成日時", "english": "CreatedAt", "type": "TIMESTAMP", "is_primary_key": false}
      ]
    },
    {
      "name": "ProjectDevelopmentType",
      "japanese": "プロジェクト開発種別",
      "type": "junction",
      "attributes": [
        {"japanese": "プロジェクトID", "english": "ProjectID", "type": "INT", "is_primary_key": true},
        {"japanese": "開発種別ID", "english": "DevelopmentTypeID", "type": "INT", "is_primary_key": true}
      ],
      "note": "プロジェクトと開発種別の多対多関係を解消する交差テーブル（タグ方式）"
    },
    {
      "name": "ProjectDevelopmentMethod",
      "japanese": "プロジェクト開発方式",
      "type": "junction",
      "attributes": [
        {"japanese": "プロジェクトID", "english": "ProjectID", "type": "INT", "is_primary_key": true},
        {"japanese": "開発方式ID", "english": "DevelopmentMethodID", "type": "INT", "is_primary_key": true}
      ],
      "note": "プロジェクトと開発方式の多対多関係を解消する交差テーブル（タグ方式）"
    },
    {
      "name": "ProjectTargetPhase",
      "japanese": "プロジェクト対象工程",
      "type": "junction",
      "attributes": [
        {"japanese": "プロジェクトID", "english": "ProjectID", "type": "INT", "is_primary_key": true},
        {"japanese": "対象工程ID", "english": "TargetPhaseID", "type": "INT", "is_primary_key": true}
      ],
      "note": "プロジェクトと対象工程の多対多関係を解消する交差テーブル（タグ方式）"
    },
    {
      "name": "ProjectStart",
      "japanese": "プロジェクト開始",
      "type": "event",
      "datetime_attribute": "StartDateTime",
      "attributes": [
        {"japanese": "イベントID", "english": "EventID", "type": "INT", "is_primary_key": true},
        {"japanese": "プロジェクトID", "english": "ProjectID", "type": "INT", "is_primary_key": false},
        {"japanese": "開始日時", "english": "StartDateTime", "type": "TIMESTAMP", "is_primary_key": false},
        {"japanese": "登録者ID", "english": "RegisteredBy", "type": "INT", "is_primary_key": false}
      ]
    },
    {
      "name": "OrganizationJoin",
      "japanese": "組織参画",
      "type": "event",
      "datetime_attribute": "JoinDateTime",
      "attributes": [
        {"japanese": "イベントID", "english": "EventID", "type": "INT", "is_primary_key": true},
        {"japanese": "プロジェクトID", "english": "ProjectID", "type": "INT", "is_primary_key": false},
        {"japanese": "組織ID", "english": "OrganizationID", "type": "INT", "is_primary_key": false},
        {"japanese": "参画日時", "english": "JoinDateTime", "type": "TIMESTAMP", "is_primary_key": false},
        {"japanese": "登録者ID", "english": "RegisteredBy", "type": "INT", "is_primary_key": false}
      ]
    },
    {
      "name": "PersonAssign",
      "japanese": "担当者アサイン",
      "type": "event",
      "datetime_attribute": "AssignDateTime",
      "attributes": [
        {"japanese": "イベントID", "english": "EventID", "type": "INT", "is_primary_key": true},
        {"japanese": "プロジェクトID", "english": "ProjectID", "type": "INT", "is_primary_key": false},
        {"japanese": "人ID", "english": "PersonID", "type": "INT", "is_primary_key": false},
        {"japanese": "役割ID", "english": "RoleID", "type": "INT", "is_primary_key": false},
        {"japanese": "アサイン日時", "english": "AssignDateTime", "type": "TIMESTAMP", "is_primary_key": false},
        {"japanese": "登録者ID", "english": "RegisteredBy", "type": "INT", "is_primary_key": false}
      ]
    },
    {
      "name": "PersonReplace",
      "japanese": "担当者交代",
      "type": "event",
      "datetime_attribute": "ReplaceDateTime",
      "attributes": [
        {"japanese": "イベントID", "english": "EventID", "type": "INT", "is_primary_key": true},
        {"japanese": "プロジェクトID", "english": "ProjectID", "type": "INT", "is_primary_key": false},
        {"japanese": "旧担当者ID", "english": "OldPersonID", "type": "INT", "is_primary_key": false},
        {"japanese": "新担当者ID", "english": "NewPersonID", "type": "INT", "is_primary_key": false},
        {"japanese": "役割ID", "english": "RoleID", "type": "INT", "is_primary_key": false},
        {"japanese": "交代日時", "english": "ReplaceDateTime", "type": "TIMESTAMP", "is_primary_key": false},
        {"japanese": "登録者ID", "english": "RegisteredBy", "type": "INT", "is_primary_key": false}
      ]
    },
    {
      "name": "RiskEvaluate",
      "japanese": "リスク評価",
      "type": "event",
      "datetime_attribute": "EvaluateDateTime",
      "attributes": [
        {"japanese": "イベントID", "english": "EventID", "type": "INT", "is_primary_key": true},
        {"japanese": "プロジェクトID", "english": "ProjectID", "type": "INT", "is_primary_key": false},
        {"japanese": "リスクランク", "english": "RiskRank", "type": "VARCHAR(20)", "is_primary_key": false},
        {"japanese": "評価日時", "english": "EvaluateDateTime", "type": "TIMESTAMP", "is_primary_key": false},
        {"japanese": "評価者ID", "english": "EvaluatedBy", "type": "INT", "is_primary_key": false},
        {"japanese": "システム提案フラグ", "english": "IsSystemProposed", "type": "BOOLEAN", "is_primary_key": false},
        {"japanese": "手動調整フラグ", "english": "IsManualAdjusted", "type": "BOOLEAN", "is_primary_key": false}
      ]
    },
    {
      "name": "SupportExecute",
      "japanese": "支援実施",
      "type": "event",
      "datetime_attribute": "ExecuteDateTime",
      "attributes": [
        {"japanese": "イベントID", "english": "EventID", "type": "INT", "is_primary_key": true},
        {"japanese": "プロジェクトID", "english": "ProjectID", "type": "INT", "is_primary_key": false},
        {"japanese": "支援タイプID", "english": "SupportTypeID", "type": "INT", "is_primary_key": false},
        {"japanese": "支援担当者ID", "english": "SupportPersonID", "type": "INT", "is_primary_key": false},
        {"japanese": "実施日時", "english": "ExecuteDateTime", "type": "TIMESTAMP", "is_primary_key": false},
        {"japanese": "支援内容", "english": "SupportContent", "type": "TEXT", "is_primary_key": false},
        {"japanese": "成果", "english": "Outcome", "type": "TEXT", "is_primary_key": false},
        {"japanese": "メモ", "english": "Memo", "type": "TEXT", "is_primary_key": false}
      ]
    },
    {
      "name": "ProjectComplete",
      "japanese": "プロジェクト完了",
      "type": "event",
      "datetime_attribute": "CompleteDateTime",
      "attributes": [
        {"japanese": "イベントID", "english": "EventID", "type": "INT", "is_primary_key": true},
        {"japanese": "プロジェクトID", "english": "ProjectID", "type": "INT", "is_primary_key": false},
        {"japanese": "完了日時", "english": "CompleteDateTime", "type": "TIMESTAMP", "is_primary_key": false},
        {"japanese": "実績工数", "english": "ActualEffort", "type": "DECIMAL(10,2)", "is_primary_key": false},
        {"japanese": "登録者ID", "english": "RegisteredBy", "type": "INT", "is_primary_key": false}
      ]
    }
  ],
  "relationships": [
    {
      "from": "Customer",
      "to": "Project",
      "cardinality": "1:N",
      "from_attribute": "CustomerID",
      "to_attribute": "CustomerID",
      "relationship_type": "has"
    },
    {
      "from": "Industry",
      "to": "Customer",
      "cardinality": "1:N",
      "from_attribute": "IndustryID",
      "to_attribute": "IndustryID",
      "relationship_type": "categorizes"
    },
    {
      "from": "Organization",
      "to": "Organization",
      "cardinality": "1:N",
      "from_attribute": "OrganizationID",
      "to_attribute": "ParentOrganizationID",
      "relationship_type": "contains",
      "note": "自己参照：組織階層構造"
    },
    {
      "from": "Person",
      "to": "User",
      "cardinality": "1:1",
      "from_attribute": "PersonID",
      "to_attribute": "PersonID",
      "relationship_type": "becomes"
    },
    {
      "from": "Project",
      "to": "DevelopmentType",
      "cardinality": "M:N",
      "junction_table": "ProjectDevelopmentType",
      "relationship_type": "tagged_with",
      "note": "タグ方式：プロジェクトに複数の開発種別を付与可能"
    },
    {
      "from": "Project",
      "to": "DevelopmentMethod",
      "cardinality": "M:N",
      "junction_table": "ProjectDevelopmentMethod",
      "relationship_type": "tagged_with",
      "note": "タグ方式：プロジェクトに複数の開発方式を付与可能"
    },
    {
      "from": "Project",
      "to": "TargetPhase",
      "cardinality": "M:N",
      "junction_table": "ProjectTargetPhase",
      "relationship_type": "tagged_with",
      "note": "タグ方式：プロジェクトに複数の対象工程を付与可能"
    },
    {
      "from": "Project",
      "to": "ProjectStart",
      "cardinality": "1:N",
      "from_attribute": "ProjectID",
      "to_attribute": "ProjectID",
      "relationship_type": "started_by"
    },
    {
      "from": "Person",
      "to": "ProjectStart",
      "cardinality": "1:N",
      "from_attribute": "PersonID",
      "to_attribute": "RegisteredBy",
      "relationship_type": "registers"
    },
    {
      "from": "Project",
      "to": "OrganizationJoin",
      "cardinality": "1:N",
      "from_attribute": "ProjectID",
      "to_attribute": "ProjectID",
      "relationship_type": "joined_by"
    },
    {
      "from": "Organization",
      "to": "OrganizationJoin",
      "cardinality": "1:N",
      "from_attribute": "OrganizationID",
      "to_attribute": "OrganizationID",
      "relationship_type": "joins",
      "note": "イベント経由の多対多：組織がプロジェクトに参画した履歴"
    },
    {
      "from": "Person",
      "to": "OrganizationJoin",
      "cardinality": "1:N",
      "from_attribute": "PersonID",
      "to_attribute": "RegisteredBy",
      "relationship_type": "registers"
    },
    {
      "from": "Project",
      "to": "PersonAssign",
      "cardinality": "1:N",
      "from_attribute": "ProjectID",
      "to_attribute": "ProjectID",
      "relationship_type": "assigned_by"
    },
    {
      "from": "Person",
      "to": "PersonAssign",
      "cardinality": "1:N",
      "from_attribute": "PersonID",
      "to_attribute": "PersonID",
      "relationship_type": "assigned_to",
      "note": "イベント経由の多対多：担当者がプロジェクトにアサインされた履歴"
    },
    {
      "from": "Role",
      "to": "PersonAssign",
      "cardinality": "1:N",
      "from_attribute": "RoleID",
      "to_attribute": "RoleID",
      "relationship_type": "defines"
    },
    {
      "from": "Person",
      "to": "PersonAssign",
      "cardinality": "1:N",
      "from_attribute": "PersonID",
      "to_attribute": "RegisteredBy",
      "relationship_type": "registers"
    },
    {
      "from": "Project",
      "to": "PersonReplace",
      "cardinality": "1:N",
      "from_attribute": "ProjectID",
      "to_attribute": "ProjectID",
      "relationship_type": "replaced_in"
    },
    {
      "from": "Person",
      "to": "PersonReplace",
      "cardinality": "1:N",
      "from_attribute": "PersonID",
      "to_attribute": "OldPersonID",
      "relationship_type": "replaced_from"
    },
    {
      "from": "Person",
      "to": "PersonReplace",
      "cardinality": "1:N",
      "from_attribute": "PersonID",
      "to_attribute": "NewPersonID",
      "relationship_type": "replaced_to"
    },
    {
      "from": "Role",
      "to": "PersonReplace",
      "cardinality": "1:N",
      "from_attribute": "RoleID",
      "to_attribute": "RoleID",
      "relationship_type": "defines"
    },
    {
      "from": "Person",
      "to": "PersonReplace",
      "cardinality": "1:N",
      "from_attribute": "PersonID",
      "to_attribute": "RegisteredBy",
      "relationship_type": "registers"
    },
    {
      "from": "Project",
      "to": "RiskEvaluate",
      "cardinality": "1:N",
      "from_attribute": "ProjectID",
      "to_attribute": "ProjectID",
      "relationship_type": "evaluated_by"
    },
    {
      "from": "Person",
      "to": "RiskEvaluate",
      "cardinality": "1:N",
      "from_attribute": "PersonID",
      "to_attribute": "EvaluatedBy",
      "relationship_type": "evaluates"
    },
    {
      "from": "Project",
      "to": "SupportExecute",
      "cardinality": "1:N",
      "from_attribute": "ProjectID",
      "to_attribute": "ProjectID",
      "relationship_type": "supported_by"
    },
    {
      "from": "SupportType",
      "to": "SupportExecute",
      "cardinality": "1:N",
      "from_attribute": "SupportTypeID",
      "to_attribute": "SupportTypeID",
      "relationship_type": "categorizes"
    },
    {
      "from": "Person",
      "to": "SupportExecute",
      "cardinality": "1:N",
      "from_attribute": "PersonID",
      "to_attribute": "SupportPersonID",
      "relationship_type": "supports"
    },
    {
      "from": "Project",
      "to": "ProjectComplete",
      "cardinality": "1:N",
      "from_attribute": "ProjectID",
      "to_attribute": "ProjectID",
      "relationship_type": "completed_by"
    },
    {
      "from": "Person",
      "to": "ProjectComplete",
      "cardinality": "1:N",
      "from_attribute": "PersonID",
      "to_attribute": "RegisteredBy",
      "relationship_type": "registers"
    }
  ]
}
