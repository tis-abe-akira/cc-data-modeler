# Data Modeler Skill for Claude Code

Claude Codeç”¨ã®ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒªãƒ³ã‚°è‡ªå‹•åŒ–Skillã§ã™ã€‚ã‚¤ãƒŸãƒ¥ãƒ¼ã‚¿ãƒ–ãƒ«ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ã®åŽŸå‰‡ã«åŸºã¥ãã€ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹è¨˜è¿°ã‹ã‚‰RDBMSã®ãƒ†ãƒ¼ãƒ–ãƒ«è¨­è¨ˆã‚’è‡ªå‹•ç”Ÿæˆã—ã¾ã™ã€‚

## ç‰¹å¾´

- ðŸŽ¯ **ãƒ–ãƒ©ãƒƒã‚¯ãƒœãƒ¼ãƒ‰ãƒ‘ã‚¿ãƒ¼ãƒ³æŽ¡ç”¨**: è¤‡æ•°ã®Knowledge SourceãŒå”èª¿ã—ã¦æ®µéšŽçš„ã«ãƒ¢ãƒ‡ãƒªãƒ³ã‚°
- ðŸ“Š **ã‚¤ãƒŸãƒ¥ãƒ¼ã‚¿ãƒ–ãƒ«ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«**: ãƒªã‚½ãƒ¼ã‚¹ã¨ã‚¤ãƒ™ãƒ³ãƒˆã®æ˜Žç¢ºãªåˆ†é¡ž
- ðŸ”„ **æ®µéšŽçš„ãªå‡¦ç†**: ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£æŠ½å‡º â†’ åˆ†é¡ž â†’ é–¢é€£åˆ†æž â†’ ERå›³ç”Ÿæˆ
- ðŸ“ **Mermaidå½¢å¼å‡ºåŠ›**: ERå›³ã‚’æ¨™æº–çš„ãªå½¢å¼ã§ç”Ÿæˆ
- ðŸ‡¯ðŸ‡µ **æ—¥æœ¬èªžå¯¾å¿œ**: æ—¥æœ¬èªžã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹è¨˜è¿°ã«å¯¾å¿œ

## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
Blackboard Pattern
â”œâ”€â”€ Blackboard (å…±æœ‰ãƒ‡ãƒ¼ã‚¿ç©ºé–“)
â”‚   â”œâ”€â”€ state.yaml - ãƒ•ã‚§ãƒ¼ã‚ºç®¡ç†
â”‚   â”œâ”€â”€ entities_raw.json - æŠ½å‡ºã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£
â”‚   â”œâ”€â”€ entities_classified.json - åˆ†é¡žæ¸ˆã¿ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£
â”‚   â”œâ”€â”€ model.json - ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«
â”‚   â””â”€â”€ diagram.mmd - Mermaid ERå›³
â”‚
â”œâ”€â”€ Knowledge Sources (å°‚é–€çŸ¥è­˜ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«)
â”‚   â”œâ”€â”€ entity-extractor - ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£æŠ½å‡º
â”‚   â”œâ”€â”€ classifier - ãƒªã‚½ãƒ¼ã‚¹/ã‚¤ãƒ™ãƒ³ãƒˆåˆ†é¡ž
â”‚   â”œâ”€â”€ relationship-analyzer - é–¢é€£åˆ†æž
â”‚   â””â”€â”€ diagram-generator - ERå›³ç”Ÿæˆ
â”‚
â””â”€â”€ Control Component (SKILL.md)
    â””â”€â”€ çŠ¶æ…‹ã«å¿œã˜ã¦é©åˆ‡ãªKnowledge Sourceã‚’å‘¼ã³å‡ºã™
```

## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

### å‰ææ¡ä»¶

- Claude Code ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã“ã¨
- Python 3.9ä»¥ä¸Š
- PyYAMLï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³: ã‚¹ã‚¿ãƒ³ãƒ‰ã‚¢ãƒ­ãƒ³å®Ÿè¡Œæ™‚ï¼‰

### Skillã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# ã“ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’Claude Codeã®Skillsãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã‚³ãƒ”ãƒ¼
cp -r data-modeler-skill /mnt/skills/user/data-modeler
```

ã¾ãŸã¯ã€Claude Codeã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ã‚­ãƒ«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«é…ç½®ã—ã¦ãã ã•ã„ã€‚

## ä½¿ã„æ–¹

### åŸºæœ¬çš„ãªä½¿ç”¨æ–¹æ³•

```bash
# ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã‚’ç›´æŽ¥æŒ‡å®š
claude code --skill data-modeler "ä»¥ä¸‹ã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã«å¯¾ã—ã¦ãƒ†ãƒ¼ãƒ–ãƒ«è¨­è¨ˆã‚’è¡Œã£ã¦ãã ã•ã„ï¼š

è«‹æ±‚æœŸæ—¥ãŒåˆ°æ¥ã—ãŸå ´åˆã€é¡§å®¢ã«è«‹æ±‚æ›¸ã‚’é€ä»˜ã™ã‚‹ã€‚
æœŸæ—¥ã¾ã§ã«å…¥é‡‘ãŒãªã„å ´åˆã«ã¯ã€ç¢ºèªçŠ¶ã‚’é€ä»˜ã™ã‚‹ã€‚"
```

### ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ã®å…¥åŠ›

```bash
# ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã‚’ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜
cat > usecase.txt << 'EOF'
ä»¥ä¸‹ã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã«å¯¾ã—ã¦ã€RDBMSã‚’å‰æã¨ã—ãŸãƒ†ãƒ¼ãƒ–ãƒ«è¨­è¨ˆã‚’ãŠã“ãªã£ã¦ãã ã•ã„ã€‚

## ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹:
ã€Œè«‹æ±‚æœŸæ—¥ãŒåˆ°æ¥ã—ãŸå ´åˆã€é¡§å®¢ã«è«‹æ±‚æ›¸ã‚’é€ä»˜ã™ã‚‹ã€‚æœŸæ—¥ã¾ã§ã«å…¥é‡‘ãŒãªã„å ´åˆã«ã¯ã€ç¢ºèªçŠ¶ã‚’é€ä»˜ã™ã‚‹ã€‚ã€
EOF

# ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰å®Ÿè¡Œ
claude code --skill data-modeler "$(cat usecase.txt)"
```

### ã‚¹ã‚¿ãƒ³ãƒ‰ã‚¢ãƒ­ãƒ³å®Ÿè¡Œï¼ˆé–‹ç™ºãƒ»ãƒ†ã‚¹ãƒˆç”¨ï¼‰

å„Knowledge Sourceã¯å˜ç‹¬ã§ã‚‚å®Ÿè¡Œå¯èƒ½ã§ã™ã€‚

```bash
# ãƒ–ãƒ©ãƒƒã‚¯ãƒœãƒ¼ãƒ‰ã®åˆæœŸåŒ–
mkdir -p /tmp/data-modeler-blackboard

cat > /tmp/data-modeler-blackboard/state.yaml << 'EOF'
current_phase: entity_extraction
input_usecase: "è«‹æ±‚æœŸæ—¥ãŒåˆ°æ¥ã—ãŸå ´åˆã€é¡§å®¢ã«è«‹æ±‚æ›¸ã‚’é€ä»˜ã™ã‚‹ã€‚æœŸæ—¥ã¾ã§ã«å…¥é‡‘ãŒãªã„å ´åˆã«ã¯ã€ç¢ºèªçŠ¶ã‚’é€ä»˜ã™ã‚‹ã€‚"
completed_phases: []
next_action: entity-extractor
EOF

# å„ãƒ•ã‚§ãƒ¼ã‚ºã‚’é †æ¬¡å®Ÿè¡Œ
python knowledge-sources/entity-extractor/extract.py
python knowledge-sources/classifier/classify.py
python knowledge-sources/relationship-analyzer/analyze.py
python knowledge-sources/diagram-generator/generate.py

# çµæžœã‚’ç¢ºèª
cat /tmp/data-modeler-blackboard/diagram.mmd
```

## å‡ºåŠ›ä¾‹

### å…¥åŠ›

```
è«‹æ±‚æœŸæ—¥ãŒåˆ°æ¥ã—ãŸå ´åˆã€é¡§å®¢ã«è«‹æ±‚æ›¸ã‚’é€ä»˜ã™ã‚‹ã€‚
æœŸæ—¥ã¾ã§ã«å…¥é‡‘ãŒãªã„å ´åˆã«ã¯ã€ç¢ºèªçŠ¶ã‚’é€ä»˜ã™ã‚‹ã€‚
```

### å‡ºåŠ›ï¼ˆMermaid ERå›³ï¼‰

```mermaid
erDiagram
    CUSTOMER ||--o{ INVOICE_SEND : triggers
    CUSTOMER ||--o{ PAYMENT : makes
    CUSTOMER ||--o{ CONFIRMATION_SEND : receives
    
    CUSTOMER {
        int CustomerID PK
        string Name
        string Address
        string Phone
        string Email
    }
    
    INVOICE_SEND {
        int EventID PK
        int CustomerID FK
        datetime SendDateTime
        string SendMethod
    }
    
    PAYMENT {
        int PaymentID PK
        int CustomerID FK
        datetime PaymentDateTime
        float Amount
        string PaymentMethod
    }
    
    CONFIRMATION_SEND {
        int EventID PK
        int CustomerID FK
        datetime SendDateTime
        string SendMethod
    }
```

## ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
data-modeler-skill/
â”œâ”€â”€ SKILL.md                          # ãƒ¡ã‚¤ãƒ³Skillå®šç¾©
â”œâ”€â”€ README.md                          # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ knowledge-sources/                 # Knowledge Sources
â”‚   â”œâ”€â”€ entity-extractor/
â”‚   â”‚   â”œâ”€â”€ SKILL.md                  # ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£æŠ½å‡ºSkill
â”‚   â”‚   â””â”€â”€ extract.py                # å®Ÿè¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â”œâ”€â”€ classifier/
â”‚   â”‚   â”œâ”€â”€ SKILL.md                  # åˆ†é¡žSkill
â”‚   â”‚   â””â”€â”€ classify.py               # å®Ÿè¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â”œâ”€â”€ relationship-analyzer/
â”‚   â”‚   â”œâ”€â”€ SKILL.md                  # é–¢é€£åˆ†æžSkill
â”‚   â”‚   â””â”€â”€ analyze.py                # å®Ÿè¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â””â”€â”€ diagram-generator/
â”‚       â”œâ”€â”€ SKILL.md                  # ERå›³ç”ŸæˆSkill
â”‚       â””â”€â”€ generate.py               # å®Ÿè¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”œâ”€â”€ templates/                         # ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ»ãƒ«ãƒ¼ãƒ«å®šç¾©
â”‚   â”œâ”€â”€ immutable-model-rules.md      # ã‚¤ãƒŸãƒ¥ãƒ¼ã‚¿ãƒ–ãƒ«ãƒ¢ãƒ‡ãƒ«åŽŸå‰‡
â”‚   â””â”€â”€ naming-rules.yaml             # å‘½åè¦å‰‡
â””â”€â”€ examples/                          # ã‚µãƒ³ãƒ—ãƒ«ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ï¼ˆä½œæˆäºˆå®šï¼‰
    â””â”€â”€ invoice-management.txt
```

## ã‚«ã‚¹ã‚¿ãƒžã‚¤ã‚ºæ–¹æ³•

### å‘½åè¦å‰‡ã®å¤‰æ›´

`templates/naming-rules.yaml`ã‚’ç·¨é›†ã—ã¦ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ã®å‘½åè¦å‰‡ã‚’è¨­å®šã§ãã¾ã™ã€‚

```yaml
# ã‚«ãƒ©ãƒ ã®å‘½åè¦å‰‡
column_naming_style: "snake_case"  # ã¾ãŸã¯ "PascalCase"

# ä¸»ã‚­ãƒ¼ã®ã‚µãƒ•ã‚£ãƒƒã‚¯ã‚¹
primary_key_suffix: "_id"  # â†’ customer_id
```

### ãƒ¢ãƒ‡ãƒªãƒ³ã‚°ãƒ«ãƒ¼ãƒ«ã®è¿½åŠ 

`templates/immutable-model-rules.md`ã‚’ç·¨é›†ã—ã¦ã€è¿½åŠ ã®ãƒ¢ãƒ‡ãƒªãƒ³ã‚°ãƒ«ãƒ¼ãƒ«ã‚’å®šç¾©ã§ãã¾ã™ã€‚

### Knowledge Sourceã®è¿½åŠ 

æ–°ã—ã„åˆ†æžãƒ­ã‚¸ãƒƒã‚¯ã‚’è¿½åŠ ã™ã‚‹å ´åˆï¼š

1. `knowledge-sources/`ã«æ–°ã—ã„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆ
2. `SKILL.md`ã¨å®Ÿè¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’é…ç½®
3. ãƒ¡ã‚¤ãƒ³ã®`SKILL.md`ã§åˆ¶å¾¡ãƒ•ãƒ­ãƒ¼ã«çµ„ã¿è¾¼ã‚€

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£æŠ½å‡ºãŒä¸ååˆ†

**åŽŸå› **: ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹è¨˜è¿°ãŒæŠ½è±¡çš„ã™ãŽã‚‹

**å¯¾ç­–**:
- å…·ä½“çš„ãªåè©žãƒ»å‹•è©žã‚’å«ã‚ã‚‹
- æ¥­å‹™ã®æµã‚Œã‚’æ™‚ç³»åˆ—ã§è¨˜è¿°
- ä¸»èªžãƒ»ç›®çš„èªžã‚’æ˜Žç¢ºã«ã™ã‚‹

### ã‚¤ãƒ™ãƒ³ãƒˆã¨ãƒªã‚½ãƒ¼ã‚¹ã®åˆ†é¡žãŒä¸é©åˆ‡

**åŽŸå› **: åˆ†é¡žåŸºæº–ãŒä¸æ˜Žç¢º

**å¯¾ç­–**:
- ã‚¤ãƒ™ãƒ³ãƒˆã«ã¯ã€Œã€œã—ãŸã€ã€Œã€œãŒç™ºç”Ÿã—ãŸã€ã¨ã„ã†è¡¨ç¾ã‚’ä½¿ç”¨
- ãƒªã‚½ãƒ¼ã‚¹ã«ã¯ã€Œã€œãŒã‚ã‚‹ã€ã€Œã€œã‚’ç®¡ç†ã™ã‚‹ã€ã¨ã„ã†è¡¨ç¾ã‚’ä½¿ç”¨

### äº¤å·®ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ãŒä¸è¶³

**åŽŸå› **: å¤šå¯¾å¤šã®é–¢ä¿‚ãŒæ˜Žç¤ºã•ã‚Œã¦ã„ãªã„

**å¯¾ç­–**:
- ã€Œè¤‡æ•°ã®ã€œã€ã¨ã„ã†è¡¨ç¾ã‚’ä½¿ç”¨
- ä¾‹: ã€Œå­¦ç”Ÿã¯è¤‡æ•°ã®è¬›ç¾©ã‚’å—è¬›ã—ã€è¬›ç¾©ã«ã¯è¤‡æ•°ã®å­¦ç”ŸãŒå‚åŠ ã™ã‚‹ã€

## åˆ¶ç´„äº‹é …

- ç¾ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯æ—¥æœ¬èªžãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã®ã¿å¯¾å¿œ
- ERå›³ã¯Mermaidå½¢å¼ã®ã¿å‡ºåŠ›
- DDLç”Ÿæˆã¯ä»Šå¾Œã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§å¯¾å¿œäºˆå®š

## ä»Šå¾Œã®æ‹¡å¼µäºˆå®š

- [ ] DDLï¼ˆCREATE TABLEæ–‡ï¼‰ã®è‡ªå‹•ç”Ÿæˆ
- [ ] ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ
- [ ] æ—¢å­˜ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‹ã‚‰ã®ãƒªãƒãƒ¼ã‚¹ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°
- [ ] è¤‡æ•°ã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã‹ã‚‰ã®çµ±åˆãƒ¢ãƒ‡ãƒªãƒ³ã‚°
- [ ] æ¤œè¨¼æ©Ÿèƒ½ã®å¼·åŒ–ï¼ˆæ•´åˆæ€§ãƒã‚§ãƒƒã‚¯ï¼‰
- [ ] è‹±èªžãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã¸ã®å¯¾å¿œ
- [ ] PNG/SVGå½¢å¼ã§ã®ERå›³å‡ºåŠ›

## å‚è€ƒè³‡æ–™

- [ã‚¤ãƒŸãƒ¥ãƒ¼ã‚¿ãƒ–ãƒ«ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ« - Scrapbox](https://scrapbox.io/kawasima/ã‚¤ãƒŸãƒ¥ãƒ¼ã‚¿ãƒ–ãƒ«ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«)
- LangChainã¨LangGraphã«ã‚ˆã‚‹RAGãƒ»AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå®Ÿè·µå…¥é–€ ç¬¬12ç« 
- [Mermaid ER Diagram Documentation](https://mermaid.js.org/syntax/entityRelationshipDiagram.html)

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License

## ä½œè€…

Akira Abe

## è²¢çŒ®

ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã€Issueã€ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’æ­“è¿Žã—ã¾ã™ï¼

## å¤‰æ›´å±¥æ­´

### v1.0.0 (2025-01-XX)
- åˆå›žãƒªãƒªãƒ¼ã‚¹
- ãƒ–ãƒ©ãƒƒã‚¯ãƒœãƒ¼ãƒ‰ãƒ‘ã‚¿ãƒ¼ãƒ³å®Ÿè£…
- 4ã¤ã®Knowledge Sourceå®Ÿè£…
- Mermaid ERå›³ç”Ÿæˆæ©Ÿèƒ½
